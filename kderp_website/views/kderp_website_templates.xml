<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		<!-- Define custom css -->
		<template id="kdvn_theme_asset" name="KDVN default theme asset" inherit_id="website.theme">
			<xpath expr="." position="inside">
				<link rel="stylesheet" href="/kderp_website/static/src/css/kdvn_website.css"/>
			</xpath>
		</template>

		<!-- General Jumbo/Header -->
		<template id="kderp_website.gen_jumbo" name="General Jumbotron">
			<div class="container">
				<div class="bs-docs-header bg-success text-center">
					<div class="row">
						<div class="col-md-6">
							<h1><small class="text-danger">Construction &amp; Enginnering</small></h1>
							<h2><small class="text-warning">Bring total comfortable to customers and <mark>environment</mark></small></h2>								
						</div>
						<div class="col-md-6">
							<img class="img-rounded img-responsive" src="/kderp_website/static/src/img/hai_van_tunnel.jpg"/>
						</div>
					</div>
				</div>
			</div>
			<t t-raw="0"></t>
		</template>
		
		<!-- QA Jumbotron -->
		<template id="kderp_website.qa_jumbo" name="QA Jumbotron">
			<div class="container">
				<div class="jumbotron text-center" style="background:url(/website/image/ir.attachment/742_50a335b/datas/qa_slogan_01_semi.png) center center; background-size:contain; ">
					<h1><small class="text-danger">KINDEN VIETNAM Quality Assurance</small></h1>
					<h2 class="text-success">SAFETY then QUALITY</h2>
				</div>
				<t t-raw="0"></t>
			</div>
		</template>
		
		<!-- General News Jumbotron -->
		<template id="kderp_website.gn_jumbo" name="GN Jumbotron">
			<div class="container">
				<div class="jumbotron text-center">
					<h1><small class="text-success">KINDEN VIETNAM News Channel</small></h1>
					<h3 class="text-warning">Latest information need to know</h3>
				</div>
				<t t-raw="0"></t>
			</div>
		</template>
		
		<!-- Page list posts -->
		<template id="page_list_posts" name="KDVN Blog">
			<t t-call="website.layout">
				<t t-set="title"><t t-esc="posts[0].blog_id.name"></t></t>
				<div class="oe_structure">
					<t t-call="kderp_website.show_jumbo"></t>
					<t t-call="kderp_website.list_posts"></t>
				</div>
			</t>
		</template>
		
		<!-- Listing posts: posts|pager -->
		<template id="list_posts" name="KDVN List posts">
			<div class="container">
				<!-- Thanh dieu huong trong list post -->
				<t t-call="kderp_website.show_list_post_breadcrumb"></t>
				<!-- Pager -->
				<t t-if="pager">
					<div class="row">
						<div class="col-sm-12">
							<t t-call="website.pager">
								<t t-set="classname">pull-left</t>
							</t>
						</div>
					</div>
				</t>
				<!-- Posts -->
				<div class="row">
					<div t-attf-class="col-md-{{8 + 4 * (not(ffacts) and not(announcements))}}">	
						<table class="table">
							<tbody>
								<t t-foreach="posts" t-as="post">
									<tr>
										<td class="text-nowrap"><span class="fa fa-calendar"></span> <span t-field="post.create_date" t-field-options='{"format":"dd/MMM/yy"}'></span> <span class="fa fa-caret-right"></span></td>
										<!-- Setting fa value -->
										<t t-if="post.img_url_ids">
											<t t-if="post.img_url_ids[0].name[-3:] == 'pdf'">
												<t t-set="fa_value" t-value="'fa-file-pdf-o'"></t>
											</t>
											<t t-if="post.img_url_ids[0].name[-3:] == 'doc'">
												<t t-set="fa_value" t-value="'fa-file-word-o'"></t>
											</t>
											<t t-if="post.img_url_ids[0].name[-3:] == 'xls'">
												<t t-set="fa_value" t-value="'fa-file-excel-o'"></t>
											</t>
											<t t-if="post.img_url_ids[0].name[-3:] not in ['pdf', 'doc', 'xls']">
												<t t-set="fa_value" t-value="'fa-file-image-o'"></t>
											</t>
										</t>
										<td ><span t-if="post.img_url_ids" t-attf-class="fa {{fa_value}}"></span><a t-attf-href="{{'/intro/news' if request.httprequest.path == '/page/homepage' else request.httprequest.path}}/{{slug(post)}}"> 
											<t t-raw="post.name.title()"></t>
											</a>
										</td>
										<t t-if="request.httprequest.path == '/page/homepage' or request.httprequest.path[:11] =='/intro/news'">
											<td><t t-esc="post.blog_id.name"></t></td>
										</t>
									</tr>
								</t>
							</tbody>
						</table>
						
					</div>
					<t t-if="ffacts or announcements">
						<div class="col-md-4">
							<t t-if="announcements">
								<div id="announcement"></div></t>
							<div id="funfact" class="hidden-xs hidden-sm"></div>
						</div>
					</t>
				</div>				
			</div>
		</template>
		
		<!-- Annoucements | annoucements -->
		<template id="announcemnt" inherit_id="kderp_website.list_posts" name="KDVN Announcements" active="False" customize_show="True">
			<xpath expr="//div[@id='announcement']" position="inside">
				<t t-call="kderp_website.announcemnt_content"></t>
			</xpath>
		</template>
		
		<template id="announcemnt1" inherit_id="kderp_website.show_post_content1" name="KDVN Announcements" active="False" customize_show="True">
			<xpath expr="//div[@id='announcement']" position="inside">
				<t t-call="kderp_website.announcemnt_content"></t>
			</xpath>
		</template>
		
		<template id="kderp_website.announcemnt_content" name="KDVN Announcemnt Content">
			<div class="panel panel-success">
				<div class="panel-heading">
					<h3 class="panel-title">Announcments</h3>
				</div>
				<div class="panel-body" style="padding: 0px">
					<t t-if="announcements">
						<div id="carousel-announcement" class="carousel slide" data-ride="carousel" data-interval="0">
						  
						  <!-- Indicators -->
						  <ol class="carousel-indicators" style="visibility:hidden">
						  	<t t-foreach="announcements" t-as="ann">
						  		<li data-target="#carousel-announcement" t-att-data-slide-to="ann_index" t-att-class="'active' * (ann_index == 0)"></li>
						  	</t>
						  </ol>
						
						  <!-- Wrapper for slides -->
							<div class="carousel-inner" role="listbox">
							  	<t t-foreach="announcements" t-as="ann">
								    <div t-attf-class="item {{'active' * (ann_index == 0)}}">
								    	<p class="h4 text-center text-danger"><t t-esc="ann.summary"></t></p>
							    </div>
						    </t>
					      </div>
					
					  <!-- Controls -->
					  <a class="left carousel-control" href="#carousel-announcement" role="button" data-slide="prev">
					    <span class="fa fa-caret-left"></span>
					    <span class="sr-only">Previous</span>
					  </a>
					  <a class="right carousel-control" href="#carousel-announcement" role="button" data-slide="next">
					    <span class="fa fa-caret-right"></span>
					    <span class="sr-only">Next</span>
					  </a>
					  </div>
					</t>
				</div>
			</div>	
		</template>
		
		<!-- Fun facts | ffacts -->
		<template id="funfact" inherit_id="kderp_website.list_posts" name="KDVN Fun facts" active="False" customize_show="True">
			<xpath expr="//div[@id='funfact']" position="inside">
				<t t-call="kderp_website.funfact_content"></t>
			</xpath>
		</template>
		
		<template id="funfact1" inherit_id="kderp_website.show_post_content1" name="KDVN Fun facts" active="False" customize_show="True">
			<xpath expr="//div[@id='funfact']" position="inside">
				<t t-call="kderp_website.funfact_content"></t>
			</xpath>
		</template>
		
		<template id="kderp_website.funfact_content" name="KDVN Announcemnt Content">
			<div class="panel panel-danger">
				<div class="panel-heading">
					<h3 class="panel-title">Fun facts</h3>
				</div>
				<div class="panel-body" style="padding: 0px">
					<t t-if="ffacts">
						<div id="carousel-funfact" class="carousel slide" data-ride="carousel">
						  
						  <!-- Indicators -->
						  <ol class="carousel-indicators" style="visibility:hidden">
						  	<t t-foreach="ffacts" t-as="fact">
						  		<li data-target="#carousel-funfact" t-att-data-slide-to="fact_index" t-att-class="'active' * (fact_index == 0)"></li>
						  	</t>
						  </ol>
						
						  <!-- Wrapper for slides -->
							  <div class="carousel-inner" role="listbox">
							  	<t t-foreach="ffacts" t-as="fact">
								    <div t-attf-class="item {{'active' * (fact_index == 0)}}">
	<!-- 							    	<div class="carousel-caption"> -->
								    		<p class="h4 text-center text-success"><t t-esc="fact.summary"></t></p>
	<!-- 							    	</div> -->
							    </div>
						    </t>
					      </div>
					
					  <!-- Controls -->
					  <a class="left carousel-control" href="#carousel-funfact" role="button" data-slide="prev">
					    <span class="fa fa-caret-left"></span>
					    <span class="sr-only">Previous</span>
					  </a>
					  <a class="right carousel-control" href="#carousel-funfact" role="button" data-slide="next">
					    <span class="fa fa-caret-right"></span>
					    <span class="sr-only">Next</span>
					  </a>
					  </div>
					</t>
				</div>
			</div>
		</template>	
		
		<!-- Page show post content-->
		<template id="page_show_post" name="KDVN Post">
			<t t-call="website.layout">
				<t t-set="title"><t t-raw="post.name.title()"></t></t>
				<t t-call="kderp_website.show_jumbo"></t>
				<div id="show_post_content"></div>
			</t>
		</template>

		<!-- Showing post: post|posts|pager|jumbo -->
		<template id="kderp_website.show_post_content" name="KDVN show post" inherit_id="page_show_post" active="False" customize_show="True">
			<xpath expr="//div[@id='show_post_content']" position="inside">
				<div class="container">
					<!-- Thanh dieu huong trong noi dung -->
					<t t-call="kderp_website.show_breadcrumb"></t>
					<!-- Noi dung chinh -->
					<div class="row">
						<div class="col-sm-2">
						</div>
						<div class="col-sm-8">
							<t t-call="kderp_website.show_post_content_main"></t>
						</div>
						<div class="col-sm-2">
						</div>
					</div>
				</div>
			</xpath>
		</template>
		
		<template id="kderp_website.show_post_content1" name="KDVN show post1" inherit_id="page_show_post" active="False" customize_show="True">
			<xpath expr="//div[@id='show_post_content']" position="inside">
				<div class="container">
					<!-- Thanh dieu huong trong noi dung -->
					<t t-call="kderp_website.show_breadcrumb"></t>
					<!-- Noi dung chinh -->
					<div class="row">
						<!-- Phan noi dung ben trai -->
						<div t-attf-class="col-md-{{8 + 4 * (not(ffacts) and not(announcements))}}">
							<t t-call="kderp_website.show_post_content_main"></t>
						</div>
						<!-- Phan menu ben phai hien thi tin tuc -->
						<t t-if="ffacts or announcements">
							<div class="col-md-4">
								<div id="announcement"></div>
								<div id="funfact" class="hidden-xs hidden-sm"></div>
							</div>
						</t>
					</div>
				</div>
			</xpath>
		</template>
		
		<template id="kderp_website.show_post_content2" name="KDVN show post2" inherit_id="page_show_post" active="False" customize_show="True">
			<xpath expr="//div[@id='show_post_content']" position="inside">
				<div class="container">
					<!-- Thanh dieu huong trong noi dung -->
					<t t-call="kderp_website.show_breadcrumb"></t>
					<!-- Noi dung chinh -->
					<div class="row">
						<!-- Phan noi dung ben trai -->
						<div t-attf-class="col-md-9 ">
							<t t-call="kderp_website.show_post_content_main"></t>
						</div>
						<!-- Phan menu phai hien thi cac event -->
						<div class="col-md-3" id="middle_column">
			               <div class="panel panel-default hidden-xs hidden-sm">
								<div class="panel-heading">
									<h3 class="panel-title">Event</h3>
								</div>
								<div class="panel-body" style="padding-top: 0px">
									<div class="text-center text-muted" t-if="not events">
					                	<h3>No event found</h3>
					                    <t groups="base.group_website_publisher">
					                        <p groups="event.group_event_manager">Use the top menu <i>'Content'</i> to create your first event.</p>
					                    </t>
					               	</div>
				                   	<ul class="media-list">
				                       <li t-foreach="events" t-as="event" class="media" style="margin-top: 0px;">
				                       		<table class="table" style="margin-bottom: 0px;">
												<tbody>
													<tr>
													<td>	
														<div itemscope="itemscope" itemtype="http://schema.org/Event" class="media-body">
							                               <h5 class="media-heading">
							                                   <a itemprop="url" t-att-class="event.state == 'done' and 'text-success'" t-attf-href="/event/#{ slug(event) }/#{(not event.menu_id) and 'register' or ''}"><span itemprop="name" t-field="event.name"> </span></a>
							                                   <small t-if="not event.address_id" class="label label-info">Online</small>
							                                	<small t-if="not event.website_published" class="label label-danger">not published</small>
							                               </h5>
							                               <h6>
								                               <div>
								                                   <t t-if="event.organizer_id">
								                                       Organized by: <span t-field="event.organizer_id"> </span>
								                                   </t>
								                               </div>
								                               <div>
								                                   <i class="fa fa-clock-o"></i> <span itemprop="startDate" t-field="event.date_begin" t-field-options='{"hide_seconds":"True"}'> </span> <i>to</i> <span itemprop="endDate" t-field="event.date_end" t-field-options='{"hide_seconds":"True"}'> </span>
								                               </div>
								                               <div itemprop="location" t-field="event.address_id" t-field-options='{
								                                   "widget": "contact",
								                                   "fields": ["city"]
								                                   }'/>
								                               <div class="text-muted" t-if="event.type">
								                                   <i class="fa fa-tag"></i> <span t-field="event.type"/>
								                               </div>
							                               </h6>
							                           </div>
							                        </td>
													</tr>
												</tbody>
											</table>
				                       </li>
				                   	</ul>
								</div>
							</div>
							<p class="text-right"><a href="/event" alt="More news">More Events...</a></p>
		               </div>
		               	
					</div>
				</div>
			</xpath>
		</template>
		
		<!-- Hien thi noi dung main -->
		<template id="kderp_website.show_post_content_main" name="Show Content Main">
			<t t-if="(request.httprequest.path != '/es/tag/es_main') and ('/news/electrical-maintenance' not in request.httprequest.path)">
				<h2 class="text-success text-center"><t t-raw="post.name.title()"></t></h2>
				<div class="row">
					<div class="col-sm-12">
						<div class="text-muted">
							<small class="pull-left"><t t-esc="post.author_id.name"></t></small>
							<small class="pull-right"><span t-field="post.create_date" t-field-options='{"format":"dd/MMM/y"}'></span></small>
						</div>
					</div>
				</div>
				<t t-if="post.summary">
					<div class="bs-callout bs-callout-success" style="border-left-width: 2px;">
						<p><t t-esc="post.summary"></t></p>
					</div>
				</t>
				<t t-if="not(post.summary)">
				</t>
				<t t-if="post.img_url_ids">
					<div class="bs-callout bs-callout-warning" style="border-left-width: 2px;">
						<h4><span class="fa fa-paperclip"></span></h4>
						<t t-if="post.img_url_ids">
							<div class="row">
								<t t-foreach="post.img_url_ids" t-as="file">
									<div class="col-md-6" t-attf-id="{{file_index % 2}}">
									<a t-if="file.name[-4:] == '.pdf'" t-attf-href="{{file.website_url}}/{{file.name}}" target="_blank"><t t-esc="file.name"></t></a>
									<a t-if="not(file.name[-4:] == '.pdf')" t-attf-href="{{file.website_url}}/{{file.name}}" t-att-download="file.name"><t t-esc="file.name"></t></a>
									</div>
								</t>
							</div>
						</t>
					</div>
				</t>
				<div>
					<div t-field="post.content"></div>
				</div>
			</t>
			<t t-if="request.httprequest.path == '/es/tag/es_main' or ('/news/electrical-maintenance' in request.httprequest.path)">
				<t t-call="kderp_website.maintenance"/>
			</t>
		</template>
		
		<!-- Hien thi thanh dieu huong trong post content-->
		<template id="kderp_website.show_breadcrumb" name="Show Content Breadcrumb">
			<div class="row mt8">
                <div class="col-sm-12">
                    <ol class="breadcrumb mb0 bcstyle">
                        <li>
                            <a t-attf-href="/page/homepage">Home</a>
                        </li>
                       	<li>
                        	<a t-attf-href="#">
	                        	<t t-foreach="website.menu_id.child_id" t-as="url">
					            	<t t-if="(url.url in request.httprequest.path[:-(len(slug(post)))]) or (url.url in request.httprequest.path)">
					            		<t t-esc="url.name"/>
					            	</t>
					            </t>
					   		</a>
                        </li>
                       	<t t-foreach="website.menu_id.child_id" t-as="parent_url">
			            	 <t t-foreach="parent_url.child_id" t-as="url">
			            	 	<t t-if="(url.url in request.httprequest.path[:-(len(slug(post)))])">
			            	 		<li>
				            	 		<t t-if="url.url in request.httprequest.path">
				            	 			<a t-attf-href="{{request.httprequest.path[:-(len(slug(post)))]}}"><t t-esc="url.name"/></a>
				            	 		</t>
			            	 		</li>
				            	</t>
			            	 </t>
			            </t>
			            <!-- 
                       	<li>
                            <a t-attf-href="{{request.httprequest.path}}"><t t-raw="post.name.title()"/></a>
                        </li>
                         -->
                    </ol>
                </div>
           	</div>
		</template>
		
		<!-- Hien thi thanh dieu huong trong list post-->
		<template id="kderp_website.show_list_post_breadcrumb" name="Show List Post Breadcrumb">
			<div class="row mt8">
                <div class="col-sm-12">
                    <ol class="breadcrumb mb0 bcstyle">
                        <li>
                            <a t-attf-href="/page/homepage">Home</a>
                        </li>
                        <li>
                        	<a t-attf-href="#">
	                        	<t t-foreach="website.menu_id.child_id" t-as="url">
					            	<t t-if="url.url in request.httprequest.path">
					            		<t t-esc="url.name"/>
					            	</t>
					            </t>
					   		</a>
                        </li> 
                       	<li>
                        	<t t-foreach="website.menu_id.child_id" t-as="parent_url">
				            	 <t t-foreach="parent_url.child_id" t-as="url">
				            	 	<t t-if="url.url == request.httprequest.path">
					            		<a t-attf-href="{{request.httprequest.path}}"><t t-esc="url.name"/></a>
					            	</t>
				            	 </t>
				            </t>
                        </li>  
                    </ol>
                </div>
            </div>
       </template>
	</data>
</openerp>